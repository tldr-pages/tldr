# npm query

> Выводить массив объектов зависимостей с помощью CSS-подобных селекторов.
> Больше информации: <https://docs.npmjs.com/cli/npm-query/>.

- Вывести прямые зависимости:

`npm query ':root > *'`

- Вывести все прямые зависимости продакшн/разработки:

`npm query ':root > .{{prod|dev}}'`

- Вывести зависимости с определённым именем:

`npm query '#{{пакет}}'`

- Вывести зависимости с определённым именем в диапазоне семантической версии:

`npm query '#{{пакет}}@{{семантическая_версия}}'`

- Вывести зависимости без собственных зависимостей:

`npm query ':empty'`

- Найти все зависимости со скриптами postinstall и удалить их:

`npm query ":attr(scripts, [postinstall])" | jq 'map(.name) | join("\n")' {{[-r|--raw-output]}} | xargs -I _ npm uninstall _`

- Найти все Git-зависимости и вывести, какое приложение их требует:

`npm query ":type(git)" | jq 'map(.name)' | xargs -I _ npm why _`
